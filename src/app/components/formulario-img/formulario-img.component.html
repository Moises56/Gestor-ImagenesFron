<!-- formulario-img.component.html -->
<div class="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">
    {{ editImage ? "Edit Image" : "Upload Image" }}
  </h2>

  <form (ngSubmit)="onSubmit()" class="space-y-4">
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700"
        >Name *</label
      >
      <input
        id="name"
        [(ngModel)]="name"
        name="name"
        type="text"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
        required
      />
    </div>

    <div>
      <label for="description" class="block text-sm font-medium text-gray-700"
        >Description</label
      >
      <textarea
        id="description"
        [(ngModel)]="description"
        name="description"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
        rows="3"
      ></textarea>
    </div>

    <div>
      <label for="file" class="block text-sm font-medium text-gray-700"
        >Image</label
      >
      <input
        id="file"
        type="file"
        (change)="onFileSelected($event)"
        class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"
        accept="image/*"
        [required]="!editImage"
      />
    </div>

    <button
      type="submit"
      class="w-full py-2 px-4 bg-[#5ccedf] text-white rounded-md hover:bg-[#71c9ab] focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"
    >
      {{ editImage ? "Update" : "Upload" }}
    </button>
  </form>

  @if (uploadSuccess) {
  <div class="mt-4 p-4 bg-green-100 text-green-700 rounded-md">
    {{
      editImage ? "Image updated successfully!" : "Image uploaded successfully!"
    }}
  </div>
  } @if (errorMessage) {
  <div class="mt-4 p-4 bg-red-100 text-red-700 rounded-md">
    {{ errorMessage }}
  </div>
  }
</div>
